<?xml version="1.0" encoding="UTF-8"?>
<zabbix_export>
    <version>4.4</version>
    <date>2019-12-18T02:24:43Z</date>
    <groups>
        <group>
            <name>Templates/Prometheus</name>
        </group>
    </groups>
    <templates>
        <template>
            <template>Template Node Exporter Monitoring</template>
            <name>Template Node Exporter Monitoring</name>
            <groups>
                <group>
                    <name>Templates/Prometheus</name>
                </group>
            </groups>
            <applications>
                <application>
                    <name>master</name>
                </application>
            </applications>
            <items>
                <item>
                    <name>Node Exporter</name>
                    <type>HTTP_AGENT</type>
                    <key>master</key>
                    <delay>5m</delay>
                    <history>30d</history>
                    <trends>0</trends>
                    <value_type>TEXT</value_type>
                    <applications>
                        <application>
                            <name>master</name>
                        </application>
                    </applications>
                    <timeout>1m</timeout>
                    <url>{$URL}</url>
                </item>
            </items>
            <discovery_rules>
                <discovery_rule>
                    <name>LLD - node_arp_entries</name>
                    <type>DEPENDENT</type>
                    <key>lld_node_arp_entries</key>
                    <delay>0</delay>
                    <lifetime>3d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#METRIC} | device=&quot;{#DEVICE}&quot;</name>
                            <type>DEPENDENT</type>
                            <key>node_arp_entries[{#DEVICE}]</key>
                            <delay>0</delay>
                            <description>{#HELP}</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>{#METRIC}</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>PROMETHEUS_PATTERN</type>
                                    <params>{#METRIC}{device=&quot;{#DEVICE}&quot;}
</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>master</key>
                            </master_item>
                        </item_prototype>
                    </item_prototypes>
                    <master_item>
                        <key>master</key>
                    </master_item>
                    <lld_macro_paths>
                        <lld_macro_path>
                            <lld_macro>{#HELP}</lld_macro>
                            <path>$['help']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#DEVICE}</lld_macro>
                            <path>$.labels['device']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#METRIC}</lld_macro>
                            <path>$['name']</path>
                        </lld_macro_path>
                    </lld_macro_paths>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_TO_JSON</type>
                            <params>node_arp_entries{device=~&quot;.*&quot;}</params>
                        </step>
                    </preprocessing>
                </discovery_rule>
                <discovery_rule>
                    <name>LLD - node_boot_time</name>
                    <type>DEPENDENT</type>
                    <key>lld_node_boot_time</key>
                    <delay>0</delay>
                    <lifetime>3d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#METRIC}</name>
                            <type>DEPENDENT</type>
                            <key>node_boot_time</key>
                            <delay>0</delay>
                            <value_type>FLOAT</value_type>
                            <units>unixtime</units>
                            <description>{#HELP}</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>{#METRIC}</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>PROMETHEUS_PATTERN</type>
                                    <params>{#METRIC}
</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>master</key>
                            </master_item>
                            <trigger_prototypes>
                                <trigger_prototype>
                                    <expression>{change()}&lt;0</expression>
                                    <name>{#METRIC} | {HOST.NAME} foi reiniciado</name>
                                    <opdata>{ITEM.LASTVALUE}</opdata>
                                    <priority>HIGH</priority>
                                </trigger_prototype>
                            </trigger_prototypes>
                        </item_prototype>
                    </item_prototypes>
                    <graph_prototypes>
                        <graph_prototype>
                            <name>node_boot_time</name>
                            <graph_items>
                                <graph_item>
                                    <color>199C0D</color>
                                    <calc_fnc>ALL</calc_fnc>
                                    <item>
                                        <host>Template Node Exporter Monitoring</host>
                                        <key>node_boot_time</key>
                                    </item>
                                </graph_item>
                            </graph_items>
                        </graph_prototype>
                    </graph_prototypes>
                    <master_item>
                        <key>master</key>
                    </master_item>
                    <lld_macro_paths>
                        <lld_macro_path>
                            <lld_macro>{#METRIC}</lld_macro>
                            <path>$['name']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#HELP}</lld_macro>
                            <path>$['help']</path>
                        </lld_macro_path>
                    </lld_macro_paths>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_TO_JSON</type>
                            <params>node_boot_time</params>
                        </step>
                    </preprocessing>
                </discovery_rule>
                <discovery_rule>
                    <name>LLD - node_context_switches</name>
                    <type>DEPENDENT</type>
                    <key>lld_node_context_switches</key>
                    <delay>0</delay>
                    <lifetime>3d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#METRIC}</name>
                            <type>DEPENDENT</type>
                            <key>node_context_switches</key>
                            <delay>0</delay>
                            <value_type>FLOAT</value_type>
                            <description>{#HELP}</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>{#METRIC}</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>PROMETHEUS_PATTERN</type>
                                    <params>{#METRIC}
</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>master</key>
                            </master_item>
                        </item_prototype>
                    </item_prototypes>
                    <master_item>
                        <key>master</key>
                    </master_item>
                    <lld_macro_paths>
                        <lld_macro_path>
                            <lld_macro>{#METRIC}</lld_macro>
                            <path>$['name']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#HELP}</lld_macro>
                            <path>$['help']</path>
                        </lld_macro_path>
                    </lld_macro_paths>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_TO_JSON</type>
                            <params>node_context_switches</params>
                        </step>
                    </preprocessing>
                </discovery_rule>
                <discovery_rule>
                    <name>LLD - node_cpu</name>
                    <type>DEPENDENT</type>
                    <key>lld_node_cpu</key>
                    <delay>0</delay>
                    <lifetime>3d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#METRIC} | cpu=&quot;{#CPU}&quot; | mode=&quot;{#MODE}&quot;</name>
                            <type>DEPENDENT</type>
                            <key>node_cpu[{#CPU},{#MODE}]</key>
                            <delay>0</delay>
                            <value_type>FLOAT</value_type>
                            <units>s</units>
                            <description>{#HELP}</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>{#METRIC}</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>PROMETHEUS_PATTERN</type>
                                    <params>{#METRIC}{cpu=&quot;{#CPU}&quot;,mode=&quot;{#MODE}&quot;}
</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>master</key>
                            </master_item>
                        </item_prototype>
                    </item_prototypes>
                    <graph_prototypes>
                        <graph_prototype>
                            <name>node_cpu | cpu=&quot;{#CPU}&quot;</name>
                            <graph_items>
                                <graph_item>
                                    <color>199C0D</color>
                                    <calc_fnc>ALL</calc_fnc>
                                    <item>
                                        <host>Template Node Exporter Monitoring</host>
                                        <key>node_cpu[{#CPU},{#MODE}]</key>
                                    </item>
                                </graph_item>
                            </graph_items>
                        </graph_prototype>
                    </graph_prototypes>
                    <master_item>
                        <key>master</key>
                    </master_item>
                    <lld_macro_paths>
                        <lld_macro_path>
                            <lld_macro>{#METRIC}</lld_macro>
                            <path>$['name']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#CPU}</lld_macro>
                            <path>$.labels['cpu']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#MODE}</lld_macro>
                            <path>$.labels['mode']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#HELP}</lld_macro>
                            <path>$['help']</path>
                        </lld_macro_path>
                    </lld_macro_paths>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_TO_JSON</type>
                            <params>node_cpu{cpu=~&quot;.*&quot;,mode=~&quot;.*&quot;}</params>
                        </step>
                    </preprocessing>
                </discovery_rule>
                <discovery_rule>
                    <name>LLD - node_cpu_core_throttles_total</name>
                    <type>DEPENDENT</type>
                    <key>lld_node_cpu_core_throttles_total</key>
                    <delay>0</delay>
                    <lifetime>3d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#METRIC} | cpu=&quot;{#CPU}&quot;</name>
                            <type>DEPENDENT</type>
                            <key>node_cpu_core_throttles_total[{#CPU}]</key>
                            <delay>0</delay>
                            <description>{#HELP}</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>{#METRIC}</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>PROMETHEUS_PATTERN</type>
                                    <params>{#METRIC}{cpu=&quot;{#CPU}&quot;}
</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>master</key>
                            </master_item>
                        </item_prototype>
                    </item_prototypes>
                    <master_item>
                        <key>master</key>
                    </master_item>
                    <lld_macro_paths>
                        <lld_macro_path>
                            <lld_macro>{#CPU}</lld_macro>
                            <path>$.labels['cpu']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#HELP}</lld_macro>
                            <path>$['help']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#METRIC}</lld_macro>
                            <path>$['name']</path>
                        </lld_macro_path>
                    </lld_macro_paths>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_TO_JSON</type>
                            <params>node_cpu_core_throttles_total{cpu=~&quot;.*&quot;}</params>
                        </step>
                    </preprocessing>
                </discovery_rule>
                <discovery_rule>
                    <name>LLD - node_cpu_frequency_hertz</name>
                    <type>DEPENDENT</type>
                    <key>lld_node_cpu_frequency_hertz</key>
                    <delay>0</delay>
                    <lifetime>3d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#METRIC} | cpu=&quot;{#CPU}&quot;</name>
                            <type>DEPENDENT</type>
                            <key>node_cpu_frequency_hertz[{#CPU}]</key>
                            <delay>0</delay>
                            <value_type>FLOAT</value_type>
                            <units>Hz</units>
                            <description>{#HELP}</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>{#METRIC}</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>PROMETHEUS_PATTERN</type>
                                    <params>{#METRIC}{cpu=&quot;{#CPU}&quot;}
</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>master</key>
                            </master_item>
                        </item_prototype>
                    </item_prototypes>
                    <graph_prototypes>
                        <graph_prototype>
                            <name>node_cpu_frequency_hertz | cpu=&quot;{#CPU}&quot;</name>
                            <graph_items>
                                <graph_item>
                                    <color>199C0D</color>
                                    <calc_fnc>ALL</calc_fnc>
                                    <item>
                                        <host>Template Node Exporter Monitoring</host>
                                        <key>node_cpu_frequency_hertz[{#CPU}]</key>
                                    </item>
                                </graph_item>
                            </graph_items>
                        </graph_prototype>
                    </graph_prototypes>
                    <master_item>
                        <key>master</key>
                    </master_item>
                    <lld_macro_paths>
                        <lld_macro_path>
                            <lld_macro>{#CPU}</lld_macro>
                            <path>$.labels['cpu']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#HELP}</lld_macro>
                            <path>$['help']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#METRIC}</lld_macro>
                            <path>$['name']</path>
                        </lld_macro_path>
                    </lld_macro_paths>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_TO_JSON</type>
                            <params>node_cpu_frequency_hertz{cpu=~&quot;.*&quot;}</params>
                        </step>
                    </preprocessing>
                </discovery_rule>
                <discovery_rule>
                    <name>LLD - node_cpu_frequency_max_hertz</name>
                    <type>DEPENDENT</type>
                    <key>lld_node_cpu_frequency_max_hertz</key>
                    <delay>0</delay>
                    <lifetime>3d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#METRIC} | cpu=&quot;{#CPU}&quot;</name>
                            <type>DEPENDENT</type>
                            <key>node_cpu_frequency_max_hertz[{#CPU}]</key>
                            <delay>0</delay>
                            <value_type>FLOAT</value_type>
                            <units>Hz</units>
                            <description>{#HELP}</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>{#METRIC}</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>PROMETHEUS_PATTERN</type>
                                    <params>{#METRIC}{cpu=&quot;{#CPU}&quot;}
</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>master</key>
                            </master_item>
                        </item_prototype>
                    </item_prototypes>
                    <master_item>
                        <key>master</key>
                    </master_item>
                    <lld_macro_paths>
                        <lld_macro_path>
                            <lld_macro>{#CPU}</lld_macro>
                            <path>$.labels['cpu']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#HELP}</lld_macro>
                            <path>$['help']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#METRIC}</lld_macro>
                            <path>$['name']</path>
                        </lld_macro_path>
                    </lld_macro_paths>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_TO_JSON</type>
                            <params>node_cpu_frequency_max_hertz{cpu=~&quot;.*&quot;}</params>
                        </step>
                    </preprocessing>
                </discovery_rule>
                <discovery_rule>
                    <name>LLD - node_cpu_frequency_min_hertz</name>
                    <type>DEPENDENT</type>
                    <key>lld_node_cpu_frequency_min_hertz</key>
                    <delay>0</delay>
                    <lifetime>3d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#METRIC} | cpu=&quot;{#CPU}&quot;</name>
                            <type>DEPENDENT</type>
                            <key>node_cpu_frequency_min_hertz[{#CPU}]</key>
                            <delay>0</delay>
                            <value_type>FLOAT</value_type>
                            <units>Hz</units>
                            <description>{#HELP}</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>{#METRIC}</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>PROMETHEUS_PATTERN</type>
                                    <params>{#METRIC}{cpu=&quot;{#CPU}&quot;}
</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>master</key>
                            </master_item>
                        </item_prototype>
                    </item_prototypes>
                    <master_item>
                        <key>master</key>
                    </master_item>
                    <lld_macro_paths>
                        <lld_macro_path>
                            <lld_macro>{#CPU}</lld_macro>
                            <path>$.labels['cpu']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#HELP}</lld_macro>
                            <path>$['help']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#METRIC}</lld_macro>
                            <path>$['name']</path>
                        </lld_macro_path>
                    </lld_macro_paths>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_TO_JSON</type>
                            <params>node_cpu_frequency_min_hertz{cpu=~&quot;.*&quot;}</params>
                        </step>
                    </preprocessing>
                </discovery_rule>
                <discovery_rule>
                    <name>LLD - node_cpu_package_throttles_total</name>
                    <type>DEPENDENT</type>
                    <key>lld_node_cpu_package_throttles_total</key>
                    <delay>0</delay>
                    <lifetime>3d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#METRIC} | node=&quot;{#NODE}&quot;</name>
                            <type>DEPENDENT</type>
                            <key>node_cpu_package_throttles_total[{#NODE}]</key>
                            <delay>0</delay>
                            <description>{#HELP}</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>{#METRIC}</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>PROMETHEUS_PATTERN</type>
                                    <params>{#METRIC}{node=&quot;{#NODE}&quot;}
</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>master</key>
                            </master_item>
                        </item_prototype>
                    </item_prototypes>
                    <master_item>
                        <key>master</key>
                    </master_item>
                    <lld_macro_paths>
                        <lld_macro_path>
                            <lld_macro>{#NODE}</lld_macro>
                            <path>$.labels['node']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#HELP}</lld_macro>
                            <path>$['help']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#METRIC}</lld_macro>
                            <path>$['name']</path>
                        </lld_macro_path>
                    </lld_macro_paths>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_TO_JSON</type>
                            <params>node_cpu_package_throttles_total{node=~&quot;.*&quot;}</params>
                        </step>
                    </preprocessing>
                </discovery_rule>
                <discovery_rule>
                    <name>LLD - node_disk_bytes_read</name>
                    <type>DEPENDENT</type>
                    <key>lld_node_disk_bytes_read</key>
                    <delay>0</delay>
                    <lifetime>3d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#METRIC} | device=&quot;{#DEVICE}&quot;</name>
                            <type>DEPENDENT</type>
                            <key>node_disk_bytes_read[{#DEVICE}]</key>
                            <delay>0</delay>
                            <value_type>FLOAT</value_type>
                            <units>B</units>
                            <description>{#HELP}</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>{#METRIC}</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>PROMETHEUS_PATTERN</type>
                                    <params>{#METRIC}{device=&quot;{#DEVICE}&quot;}
</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>master</key>
                            </master_item>
                        </item_prototype>
                    </item_prototypes>
                    <graph_prototypes>
                        <graph_prototype>
                            <name>node_disk_bytes_read | device=&quot;{#DEVICE}&quot;</name>
                            <graph_items>
                                <graph_item>
                                    <color>199C0D</color>
                                    <calc_fnc>ALL</calc_fnc>
                                    <item>
                                        <host>Template Node Exporter Monitoring</host>
                                        <key>node_disk_bytes_read[{#DEVICE}]</key>
                                    </item>
                                </graph_item>
                            </graph_items>
                        </graph_prototype>
                    </graph_prototypes>
                    <master_item>
                        <key>master</key>
                    </master_item>
                    <lld_macro_paths>
                        <lld_macro_path>
                            <lld_macro>{#HELP}</lld_macro>
                            <path>$['help']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#METRIC}</lld_macro>
                            <path>$['name']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#DEVICE}</lld_macro>
                            <path>$.labels['device']</path>
                        </lld_macro_path>
                    </lld_macro_paths>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_TO_JSON</type>
                            <params>node_disk_bytes_read{device=~&quot;.*&quot;}</params>
                        </step>
                    </preprocessing>
                </discovery_rule>
                <discovery_rule>
                    <name>LLD - node_disk_bytes_written</name>
                    <type>DEPENDENT</type>
                    <key>lld_node_disk_bytes_written</key>
                    <delay>0</delay>
                    <lifetime>3d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#METRIC} | device=&quot;{#DEVICE}&quot;</name>
                            <type>DEPENDENT</type>
                            <key>node_disk_bytes_written[{#METRIC}]</key>
                            <delay>0</delay>
                            <value_type>FLOAT</value_type>
                            <units>B</units>
                            <description>{#HELP}</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>{#METRIC}</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>PROMETHEUS_PATTERN</type>
                                    <params>{#METRIC}{device=&quot;{#DEVICE}&quot;}
</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>master</key>
                            </master_item>
                        </item_prototype>
                    </item_prototypes>
                    <graph_prototypes>
                        <graph_prototype>
                            <name>node_disk_bytes_written | device=&quot;{#DEVICE}&quot;</name>
                            <graph_items>
                                <graph_item>
                                    <color>199C0D</color>
                                    <calc_fnc>ALL</calc_fnc>
                                    <item>
                                        <host>Template Node Exporter Monitoring</host>
                                        <key>node_disk_bytes_written[{#METRIC}]</key>
                                    </item>
                                </graph_item>
                            </graph_items>
                        </graph_prototype>
                    </graph_prototypes>
                    <master_item>
                        <key>master</key>
                    </master_item>
                    <lld_macro_paths>
                        <lld_macro_path>
                            <lld_macro>{#HELP}</lld_macro>
                            <path>$['help']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#METRIC}</lld_macro>
                            <path>$['name']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#DEVICE}</lld_macro>
                            <path>$.labels['device']</path>
                        </lld_macro_path>
                    </lld_macro_paths>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_TO_JSON</type>
                            <params>node_disk_bytes_written{device=~&quot;.*&quot;}</params>
                        </step>
                    </preprocessing>
                </discovery_rule>
                <discovery_rule>
                    <name>LLD - node_disk_io_now</name>
                    <type>DEPENDENT</type>
                    <key>lld_node_disk_io_now</key>
                    <delay>0</delay>
                    <lifetime>3d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#METRIC} | device=&quot;{#DEVICE}&quot;</name>
                            <type>DEPENDENT</type>
                            <key>node_disk_io_now[{#DEVICE}]</key>
                            <delay>0</delay>
                            <value_type>FLOAT</value_type>
                            <description>{#HELP}</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>{#METRIC}</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>PROMETHEUS_PATTERN</type>
                                    <params>{#METRIC}{device=&quot;{#DEVICE}&quot;}
</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>master</key>
                            </master_item>
                        </item_prototype>
                    </item_prototypes>
                    <graph_prototypes>
                        <graph_prototype>
                            <name>node_disk_io_now | device=&quot;{#DEVICE}&quot;</name>
                            <graph_items>
                                <graph_item>
                                    <color>199C0D</color>
                                    <calc_fnc>ALL</calc_fnc>
                                    <item>
                                        <host>Template Node Exporter Monitoring</host>
                                        <key>node_disk_io_now[{#DEVICE}]</key>
                                    </item>
                                </graph_item>
                            </graph_items>
                        </graph_prototype>
                    </graph_prototypes>
                    <master_item>
                        <key>master</key>
                    </master_item>
                    <lld_macro_paths>
                        <lld_macro_path>
                            <lld_macro>{#DEVICE}</lld_macro>
                            <path>$.labels['device']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#HELP}</lld_macro>
                            <path>$['help']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#METRIC}</lld_macro>
                            <path>$['name']</path>
                        </lld_macro_path>
                    </lld_macro_paths>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_TO_JSON</type>
                            <params>node_disk_io_now{device=~&quot;.*&quot;}</params>
                        </step>
                    </preprocessing>
                </discovery_rule>
                <discovery_rule>
                    <name>LLD - node_disk_io_time_ms</name>
                    <type>DEPENDENT</type>
                    <key>lld_node_disk_io_time_ms</key>
                    <delay>0</delay>
                    <lifetime>3d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#METRIC} | device=&quot;{#DEVICE}&quot;</name>
                            <type>DEPENDENT</type>
                            <key>node_disk_io_time_ms[{#DEVICE}]</key>
                            <delay>0</delay>
                            <value_type>FLOAT</value_type>
                            <units>s</units>
                            <description>{#HELP}</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>{#METRIC}</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>PROMETHEUS_PATTERN</type>
                                    <params>{#METRIC}{device=&quot;{#DEVICE}&quot;}
</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>master</key>
                            </master_item>
                        </item_prototype>
                    </item_prototypes>
                    <master_item>
                        <key>master</key>
                    </master_item>
                    <lld_macro_paths>
                        <lld_macro_path>
                            <lld_macro>{#DEVICE}</lld_macro>
                            <path>$.labels['device']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#HELP}</lld_macro>
                            <path>$['help']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#METRIC}</lld_macro>
                            <path>$['name']</path>
                        </lld_macro_path>
                    </lld_macro_paths>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_TO_JSON</type>
                            <params>node_disk_io_time_ms{device=~&quot;.*&quot;}</params>
                        </step>
                    </preprocessing>
                </discovery_rule>
                <discovery_rule>
                    <name>LLD - node_disk_io_time_weighted</name>
                    <type>DEPENDENT</type>
                    <key>lld_node_disk_io_time_weighted</key>
                    <delay>0</delay>
                    <lifetime>3d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#METRIC} | device=&quot;{#DEVICE}&quot;</name>
                            <type>DEPENDENT</type>
                            <key>node_disk_io_time_weighted[{#DEVICE}]</key>
                            <delay>0</delay>
                            <value_type>FLOAT</value_type>
                            <units>s</units>
                            <description>{#HELP}</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>{#METRIC}</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>PROMETHEUS_PATTERN</type>
                                    <params>{#METRIC}{device=&quot;{#DEVICE}&quot;}
</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>master</key>
                            </master_item>
                        </item_prototype>
                    </item_prototypes>
                    <master_item>
                        <key>master</key>
                    </master_item>
                    <lld_macro_paths>
                        <lld_macro_path>
                            <lld_macro>{#DEVICE}</lld_macro>
                            <path>$.labels['device']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#HELP}</lld_macro>
                            <path>$['help']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#METRIC}</lld_macro>
                            <path>$['name']</path>
                        </lld_macro_path>
                    </lld_macro_paths>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_TO_JSON</type>
                            <params>node_disk_io_time_weighted{device=~&quot;.*&quot;}</params>
                        </step>
                    </preprocessing>
                </discovery_rule>
                <discovery_rule>
                    <name>LLD - node_disk_reads_completed</name>
                    <type>DEPENDENT</type>
                    <key>lld_node_disk_reads_completed</key>
                    <delay>0</delay>
                    <lifetime>3d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#METRIC} | device=&quot;{#DEVICE}&quot;</name>
                            <type>DEPENDENT</type>
                            <key>node_disk_reads_completed[{#DEVICE}]</key>
                            <delay>0</delay>
                            <description>{#HELP}</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>{#METRIC}</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>PROMETHEUS_PATTERN</type>
                                    <params>{#METRIC}{device=&quot;{#DEVICE}&quot;}
</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>master</key>
                            </master_item>
                        </item_prototype>
                    </item_prototypes>
                    <master_item>
                        <key>master</key>
                    </master_item>
                    <lld_macro_paths>
                        <lld_macro_path>
                            <lld_macro>{#DEVICE}</lld_macro>
                            <path>$.labels['device']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#HELP}</lld_macro>
                            <path>$['help']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#METRIC}</lld_macro>
                            <path>$['name']</path>
                        </lld_macro_path>
                    </lld_macro_paths>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_TO_JSON</type>
                            <params>node_disk_reads_completed{device=~&quot;.*&quot;}</params>
                        </step>
                    </preprocessing>
                </discovery_rule>
                <discovery_rule>
                    <name>LLD - node_disk_reads_merged</name>
                    <type>DEPENDENT</type>
                    <key>lld_node_disk_reads_merged</key>
                    <delay>0</delay>
                    <lifetime>3d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#METRIC} | device=&quot;{#DEVICE}&quot;</name>
                            <type>DEPENDENT</type>
                            <key>node_disk_reads_merged[{#DEVICE}]</key>
                            <delay>0</delay>
                            <description>{#HELP}</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>{#METRIC}</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>PROMETHEUS_PATTERN</type>
                                    <params>{#METRIC}{device=&quot;{#DEVICE}&quot;}
</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>master</key>
                            </master_item>
                        </item_prototype>
                    </item_prototypes>
                    <master_item>
                        <key>master</key>
                    </master_item>
                    <lld_macro_paths>
                        <lld_macro_path>
                            <lld_macro>{#DEVICE}</lld_macro>
                            <path>$.labels['device']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#HELP}</lld_macro>
                            <path>$['help']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#METRIC}</lld_macro>
                            <path>$['name']</path>
                        </lld_macro_path>
                    </lld_macro_paths>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_TO_JSON</type>
                            <params>node_disk_reads_merged{device=~&quot;.*&quot;}</params>
                        </step>
                    </preprocessing>
                </discovery_rule>
                <discovery_rule>
                    <name>LLD - node_disk_read_time_ms</name>
                    <type>DEPENDENT</type>
                    <key>lld_node_disk_read_time_ms</key>
                    <delay>0</delay>
                    <lifetime>3d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#METRIC} | device=&quot;{#DEVICE}&quot;</name>
                            <type>DEPENDENT</type>
                            <key>node_disk_read_time_ms[{#DEVICE}]</key>
                            <delay>0</delay>
                            <value_type>FLOAT</value_type>
                            <units>s</units>
                            <description>{#HELP}</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>{#METRIC}</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>PROMETHEUS_PATTERN</type>
                                    <params>{#METRIC}{device=&quot;{#DEVICE}&quot;}
</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>master</key>
                            </master_item>
                        </item_prototype>
                    </item_prototypes>
                    <master_item>
                        <key>master</key>
                    </master_item>
                    <lld_macro_paths>
                        <lld_macro_path>
                            <lld_macro>{#DEVICE}</lld_macro>
                            <path>$.labels['device']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#HELP}</lld_macro>
                            <path>$['help']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#METRIC}</lld_macro>
                            <path>$['name']</path>
                        </lld_macro_path>
                    </lld_macro_paths>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_TO_JSON</type>
                            <params>node_disk_read_time_ms{device=~&quot;.*&quot;}</params>
                        </step>
                    </preprocessing>
                </discovery_rule>
                <discovery_rule>
                    <name>LLD - node_disk_sectors_read</name>
                    <type>DEPENDENT</type>
                    <key>lld_node_disk_sectors_read</key>
                    <delay>0</delay>
                    <lifetime>3d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#METRIC} | device=&quot;{#DEVICE}&quot;</name>
                            <type>DEPENDENT</type>
                            <key>node_disk_sectors_read[{#DEVICE}]</key>
                            <delay>0</delay>
                            <value_type>FLOAT</value_type>
                            <description>{#HELP}</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>{#METRIC}</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>PROMETHEUS_PATTERN</type>
                                    <params>{#METRIC}{device=&quot;{#DEVICE}&quot;}
</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>master</key>
                            </master_item>
                        </item_prototype>
                    </item_prototypes>
                    <master_item>
                        <key>master</key>
                    </master_item>
                    <lld_macro_paths>
                        <lld_macro_path>
                            <lld_macro>{#DEVICE}</lld_macro>
                            <path>$.labels['device']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#HELP}</lld_macro>
                            <path>$['help']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#METRIC}</lld_macro>
                            <path>$['name']</path>
                        </lld_macro_path>
                    </lld_macro_paths>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_TO_JSON</type>
                            <params>node_disk_sectors_read{device=~&quot;.*&quot;}</params>
                        </step>
                    </preprocessing>
                </discovery_rule>
                <discovery_rule>
                    <name>LLD - node_disk_sectors_written</name>
                    <type>DEPENDENT</type>
                    <key>lld_node_disk_sectors_written</key>
                    <delay>0</delay>
                    <lifetime>3d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#METRIC} | device=&quot;{#DEVICE}&quot;</name>
                            <type>DEPENDENT</type>
                            <key>node_disk_sectors_written[{#DEVICE}]</key>
                            <delay>0</delay>
                            <value_type>FLOAT</value_type>
                            <description>{#HELP}</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>{#METRIC}</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>PROMETHEUS_PATTERN</type>
                                    <params>{#METRIC}{device=&quot;{#DEVICE}&quot;}
</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>master</key>
                            </master_item>
                        </item_prototype>
                    </item_prototypes>
                    <master_item>
                        <key>master</key>
                    </master_item>
                    <lld_macro_paths>
                        <lld_macro_path>
                            <lld_macro>{#DEVICE}</lld_macro>
                            <path>$.labels['device']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#HELP}</lld_macro>
                            <path>$['help']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#METRIC}</lld_macro>
                            <path>$['name']</path>
                        </lld_macro_path>
                    </lld_macro_paths>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_TO_JSON</type>
                            <params>node_disk_sectors_written{device=~&quot;.*&quot;}</params>
                        </step>
                    </preprocessing>
                </discovery_rule>
                <discovery_rule>
                    <name>LLD - node_disk_writes_completed</name>
                    <type>DEPENDENT</type>
                    <key>lld_node_disk_writes_completed</key>
                    <delay>0</delay>
                    <lifetime>3d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#METRIC} | device=&quot;{#DEVICE}&quot;</name>
                            <type>DEPENDENT</type>
                            <key>node_disk_writes_completed[{#DEVICE}]</key>
                            <delay>0</delay>
                            <value_type>FLOAT</value_type>
                            <description>{#HELP}</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>{#METRIC}</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>PROMETHEUS_PATTERN</type>
                                    <params>{#METRIC}{device=&quot;{#DEVICE}&quot;}
</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>master</key>
                            </master_item>
                        </item_prototype>
                    </item_prototypes>
                    <master_item>
                        <key>master</key>
                    </master_item>
                    <lld_macro_paths>
                        <lld_macro_path>
                            <lld_macro>{#DEVICE}</lld_macro>
                            <path>$.labels['device']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#HELP}</lld_macro>
                            <path>$['help']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#METRIC}</lld_macro>
                            <path>$['name']</path>
                        </lld_macro_path>
                    </lld_macro_paths>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_TO_JSON</type>
                            <params>node_disk_writes_completed{device=~&quot;.*&quot;}</params>
                        </step>
                    </preprocessing>
                </discovery_rule>
                <discovery_rule>
                    <name>LLD - node_disk_writes_merged</name>
                    <type>DEPENDENT</type>
                    <key>lld_node_disk_writes_merged</key>
                    <delay>0</delay>
                    <lifetime>3d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#METRIC} | device=&quot;{#DEVICE}&quot;</name>
                            <type>DEPENDENT</type>
                            <key>node_disk_writes_merged[{#DEVICE}]</key>
                            <delay>0</delay>
                            <description>{#HELP}</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>{#METRIC}</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>PROMETHEUS_PATTERN</type>
                                    <params>{#METRIC}{device=&quot;{#DEVICE}&quot;}
</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>master</key>
                            </master_item>
                        </item_prototype>
                    </item_prototypes>
                    <master_item>
                        <key>master</key>
                    </master_item>
                    <lld_macro_paths>
                        <lld_macro_path>
                            <lld_macro>{#DEVICE}</lld_macro>
                            <path>$.labels['device']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#HELP}</lld_macro>
                            <path>$['help']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#METRIC}</lld_macro>
                            <path>$['name']</path>
                        </lld_macro_path>
                    </lld_macro_paths>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_TO_JSON</type>
                            <params>node_disk_writes_merged{device=~&quot;.*&quot;}</params>
                        </step>
                    </preprocessing>
                </discovery_rule>
                <discovery_rule>
                    <name>LLD - node_disk_write_time_ms</name>
                    <type>DEPENDENT</type>
                    <key>lld_node_disk_write_time_ms</key>
                    <delay>0</delay>
                    <lifetime>3d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#METRIC} | device=&quot;{#DEVICE}&quot;</name>
                            <type>DEPENDENT</type>
                            <key>node_disk_write_time_ms[{#DEVICE}]</key>
                            <delay>0</delay>
                            <value_type>FLOAT</value_type>
                            <units>s</units>
                            <description>{#HELP}</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>{#METRIC}</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>PROMETHEUS_PATTERN</type>
                                    <params>{#METRIC}{device=&quot;{#DEVICE}&quot;}
</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>master</key>
                            </master_item>
                        </item_prototype>
                    </item_prototypes>
                    <master_item>
                        <key>master</key>
                    </master_item>
                    <lld_macro_paths>
                        <lld_macro_path>
                            <lld_macro>{#DEVICE}</lld_macro>
                            <path>$.labels['device']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#HELP}</lld_macro>
                            <path>$['help']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#METRIC}</lld_macro>
                            <path>$['name']</path>
                        </lld_macro_path>
                    </lld_macro_paths>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_TO_JSON</type>
                            <params>node_disk_write_time_ms{device=~&quot;.*&quot;}</params>
                        </step>
                    </preprocessing>
                </discovery_rule>
                <discovery_rule>
                    <name>LLD - node_entropy_available_bits</name>
                    <type>DEPENDENT</type>
                    <key>lld_node_entropy_available_bits</key>
                    <delay>0</delay>
                    <lifetime>3d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#METRIC}</name>
                            <type>DEPENDENT</type>
                            <key>node_entropy_available_bits</key>
                            <delay>0</delay>
                            <value_type>FLOAT</value_type>
                            <description>{#HELP}</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>{#METRIC}</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>PROMETHEUS_PATTERN</type>
                                    <params>{#METRIC}
</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>master</key>
                            </master_item>
                        </item_prototype>
                    </item_prototypes>
                    <master_item>
                        <key>master</key>
                    </master_item>
                    <lld_macro_paths>
                        <lld_macro_path>
                            <lld_macro>{#HELP}</lld_macro>
                            <path>$['help']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#METRIC}</lld_macro>
                            <path>$['name']</path>
                        </lld_macro_path>
                    </lld_macro_paths>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_TO_JSON</type>
                            <params>node_entropy_available_bits</params>
                        </step>
                    </preprocessing>
                </discovery_rule>
                <discovery_rule>
                    <name>LLD - node_exporter_build_info</name>
                    <type>DEPENDENT</type>
                    <key>lld_node_exporter_build_info</key>
                    <delay>0</delay>
                    <lifetime>3d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#METRIC} | branch=&quot;{#BRANCH}&quot; | goversion=&quot;{#GOVERSION}&quot; | version=&quot;{#VERSION}&quot;</name>
                            <type>DEPENDENT</type>
                            <key>node_exporter_build_info[{#BRANCH},{#GOVERSION},{#VERSION}]</key>
                            <delay>0</delay>
                            <description>{#HELP}</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>{#METRIC}</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>PROMETHEUS_PATTERN</type>
                                    <params>{#METRIC}{branch=&quot;{#BRANCH}&quot;,goversion=&quot;{#GOVERSION}&quot;,version=&quot;{#VERSION}&quot;}
</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>master</key>
                            </master_item>
                        </item_prototype>
                    </item_prototypes>
                    <master_item>
                        <key>master</key>
                    </master_item>
                    <lld_macro_paths>
                        <lld_macro_path>
                            <lld_macro>{#HELP}</lld_macro>
                            <path>$['help']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#METRIC}</lld_macro>
                            <path>$['name']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#BRANCH}</lld_macro>
                            <path>$.labels['branch']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#GOVERSION}</lld_macro>
                            <path>$.labels['goversion']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#VERSION}</lld_macro>
                            <path>$.labels['version']</path>
                        </lld_macro_path>
                    </lld_macro_paths>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_TO_JSON</type>
                            <params>node_exporter_build_info{branch=~&quot;.*&quot;,goversion=~&quot;.*&quot;,version=~&quot;.*&quot;}</params>
                        </step>
                    </preprocessing>
                </discovery_rule>
                <discovery_rule>
                    <name>LLD - node_filefd_allocated</name>
                    <type>DEPENDENT</type>
                    <key>lld_node_filefd_allocated</key>
                    <delay>0</delay>
                    <lifetime>3d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#METRIC}</name>
                            <type>DEPENDENT</type>
                            <key>node_filefd_allocated</key>
                            <delay>0</delay>
                            <description>{#HELP}</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>{#METRIC}</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>PROMETHEUS_PATTERN</type>
                                    <params>{#METRIC}
</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>master</key>
                            </master_item>
                        </item_prototype>
                    </item_prototypes>
                    <master_item>
                        <key>master</key>
                    </master_item>
                    <lld_macro_paths>
                        <lld_macro_path>
                            <lld_macro>{#HELP}</lld_macro>
                            <path>$['help']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#METRIC}</lld_macro>
                            <path>$['name']</path>
                        </lld_macro_path>
                    </lld_macro_paths>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_TO_JSON</type>
                            <params>node_filefd_allocated</params>
                        </step>
                    </preprocessing>
                </discovery_rule>
                <discovery_rule>
                    <name>LLD - node_filefd_maximum</name>
                    <type>DEPENDENT</type>
                    <key>lld_node_filefd_maximum</key>
                    <delay>0</delay>
                    <lifetime>3d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#METRIC}</name>
                            <type>DEPENDENT</type>
                            <key>node_filefd_maximum</key>
                            <delay>0</delay>
                            <description>{#HELP}</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>{#METRIC}</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>PROMETHEUS_PATTERN</type>
                                    <params>{#METRIC}
</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>master</key>
                            </master_item>
                        </item_prototype>
                    </item_prototypes>
                    <master_item>
                        <key>master</key>
                    </master_item>
                    <lld_macro_paths>
                        <lld_macro_path>
                            <lld_macro>{#HELP}</lld_macro>
                            <path>$['help']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#METRIC}</lld_macro>
                            <path>$['name']</path>
                        </lld_macro_path>
                    </lld_macro_paths>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_TO_JSON</type>
                            <params>node_filefd_maximum</params>
                        </step>
                    </preprocessing>
                </discovery_rule>
                <discovery_rule>
                    <name>LLD - node_filesystem_avail</name>
                    <type>DEPENDENT</type>
                    <key>lld_node_filesystem_avail</key>
                    <delay>0</delay>
                    <lifetime>3d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#METRIC} | device=&quot;{#DEVICE}&quot; | fstype=&quot;{#FSTYPE}&quot; | mountpoint=&quot;{#MOUNTPOINT}&quot;</name>
                            <type>DEPENDENT</type>
                            <key>node_filesystem_avail[{#DEVICE},{#FSTYPE},{#MOUNTPOINT}]</key>
                            <delay>0</delay>
                            <value_type>FLOAT</value_type>
                            <units>B</units>
                            <description>{#HELP}</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>{#METRIC}</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>PROMETHEUS_PATTERN</type>
                                    <params>{#METRIC}{device=&quot;{#DEVICE}&quot;,fstype=&quot;{#FSTYPE}&quot;,mountpoint=&quot;{#MOUNTPOINT}&quot;}
</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>master</key>
                            </master_item>
                        </item_prototype>
                    </item_prototypes>
                    <graph_prototypes>
                        <graph_prototype>
                            <name>node_filesystem_avail | {#DEVICE} | {#FSTYPE} | {#MOUNTPOINT}</name>
                            <graph_items>
                                <graph_item>
                                    <color>199C0D</color>
                                    <calc_fnc>ALL</calc_fnc>
                                    <item>
                                        <host>Template Node Exporter Monitoring</host>
                                        <key>node_filesystem_avail[{#DEVICE},{#FSTYPE},{#MOUNTPOINT}]</key>
                                    </item>
                                </graph_item>
                            </graph_items>
                        </graph_prototype>
                    </graph_prototypes>
                    <master_item>
                        <key>master</key>
                    </master_item>
                    <lld_macro_paths>
                        <lld_macro_path>
                            <lld_macro>{#HELP}</lld_macro>
                            <path>$['help']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#METRIC}</lld_macro>
                            <path>$['name']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#DEVICE}</lld_macro>
                            <path>$.labels['device']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#FSTYPE}</lld_macro>
                            <path>$.labels['fstype']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#MOUNTPOINT}</lld_macro>
                            <path>$.labels['mountpoint']</path>
                        </lld_macro_path>
                    </lld_macro_paths>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_TO_JSON</type>
                            <params>node_filesystem_avail{device=~&quot;.*&quot;,fstype=~&quot;.*&quot;,mountpoint=~&quot;.*&quot;}</params>
                        </step>
                    </preprocessing>
                </discovery_rule>
                <discovery_rule>
                    <name>LLD - node_filesystem_device_error</name>
                    <type>DEPENDENT</type>
                    <key>lld_node_filesystem_device_error</key>
                    <delay>0</delay>
                    <lifetime>3d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#METRIC} | device=&quot;{#DEVICE}&quot; | fstype=&quot;{#FSTYPE}&quot; | mountpoint=&quot;{#MOUNTPOINT}&quot;</name>
                            <type>DEPENDENT</type>
                            <key>node_filesystem_device_error[{#DEVICE},{#FSTYPE},{#MOUNTPOINT}]</key>
                            <delay>0</delay>
                            <description>{#HELP}</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>{#METRIC}</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>PROMETHEUS_PATTERN</type>
                                    <params>{#METRIC}{device=&quot;{#DEVICE}&quot;,fstype=&quot;{#FSTYPE}&quot;,mountpoint=&quot;{#MOUNTPOINT}&quot;}
</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>master</key>
                            </master_item>
                        </item_prototype>
                    </item_prototypes>
                    <master_item>
                        <key>master</key>
                    </master_item>
                    <lld_macro_paths>
                        <lld_macro_path>
                            <lld_macro>{#DEVICE}</lld_macro>
                            <path>$.labels['device']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#FSTYPE}</lld_macro>
                            <path>$.labels['fstype']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#HELP}</lld_macro>
                            <path>$['help']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#METRIC}</lld_macro>
                            <path>$['name']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#MOUNTPOINT}</lld_macro>
                            <path>$.labels['mountpoint']</path>
                        </lld_macro_path>
                    </lld_macro_paths>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_TO_JSON</type>
                            <params>node_filesystem_device_error{device=~&quot;.*&quot;,fstype=~&quot;.*&quot;,mountpoint=~&quot;.*&quot;}</params>
                        </step>
                    </preprocessing>
                </discovery_rule>
                <discovery_rule>
                    <name>LLD - node_filesystem_files</name>
                    <type>DEPENDENT</type>
                    <key>lld_node_filesystem_files</key>
                    <delay>0</delay>
                    <lifetime>3d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#METRIC} | device=&quot;{#DEVICE}&quot; | fstype=&quot;{#FSTYPE}&quot; | mountpoint=&quot;{#MOUNTPOINT}&quot;</name>
                            <type>DEPENDENT</type>
                            <key>node_filesystem_files[{#DEVICE},{#FSTYPE},{#MOUNTPOINT}]</key>
                            <delay>0</delay>
                            <value_type>FLOAT</value_type>
                            <description>{#HELP}</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>{#METRIC}</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>PROMETHEUS_PATTERN</type>
                                    <params>{#METRIC}{device=&quot;{#DEVICE}&quot;,fstype=&quot;{#FSTYPE}&quot;,mountpoint=&quot;{#MOUNTPOINT}&quot;}
</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>master</key>
                            </master_item>
                        </item_prototype>
                    </item_prototypes>
                    <master_item>
                        <key>master</key>
                    </master_item>
                    <lld_macro_paths>
                        <lld_macro_path>
                            <lld_macro>{#DEVICE}</lld_macro>
                            <path>$.labels['device']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#FSTYPE}</lld_macro>
                            <path>$.labels['fstype']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#HELP}</lld_macro>
                            <path>$['help']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#METRIC}</lld_macro>
                            <path>$['name']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#MOUNTPOINT}</lld_macro>
                            <path>$.labels['mountpoint']</path>
                        </lld_macro_path>
                    </lld_macro_paths>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_TO_JSON</type>
                            <params>node_filesystem_files{device=~&quot;.*&quot;,fstype=~&quot;.*&quot;,mountpoint=~&quot;.*&quot;}</params>
                        </step>
                    </preprocessing>
                </discovery_rule>
                <discovery_rule>
                    <name>LLD - node_filesystem_files_free</name>
                    <type>DEPENDENT</type>
                    <key>lld_node_filesystem_files_free</key>
                    <delay>0</delay>
                    <lifetime>3d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#METRIC} | device=&quot;{#DEVICE}&quot; | fstype=&quot;{#FSTYPE}&quot; | mountpoint=&quot;{#MOUNTPOINT}&quot;</name>
                            <type>DEPENDENT</type>
                            <key>node_filesystem_files_free[{#DEVICE},{#FSTYPE},{#MOUNTPOINT}]</key>
                            <delay>0</delay>
                            <value_type>FLOAT</value_type>
                            <description>{#HELP}</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>{#METRIC}</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>PROMETHEUS_PATTERN</type>
                                    <params>{#METRIC}{device=&quot;{#DEVICE}&quot;,fstype=&quot;{#FSTYPE}&quot;,mountpoint=&quot;{#MOUNTPOINT}&quot;}
</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>master</key>
                            </master_item>
                        </item_prototype>
                    </item_prototypes>
                    <master_item>
                        <key>master</key>
                    </master_item>
                    <lld_macro_paths>
                        <lld_macro_path>
                            <lld_macro>{#DEVICE}</lld_macro>
                            <path>$.labels['device']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#FSTYPE}</lld_macro>
                            <path>$.labels['fstype']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#HELP}</lld_macro>
                            <path>$['help']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#METRIC}</lld_macro>
                            <path>$['name']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#MOUNTPOINT}</lld_macro>
                            <path>$.labels['mountpoint']</path>
                        </lld_macro_path>
                    </lld_macro_paths>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_TO_JSON</type>
                            <params>node_filesystem_files_free{device=~&quot;.*&quot;,fstype=~&quot;.*&quot;,mountpoint=~&quot;.*&quot;}</params>
                        </step>
                    </preprocessing>
                </discovery_rule>
                <discovery_rule>
                    <name>LLD - node_filesystem_free</name>
                    <type>DEPENDENT</type>
                    <key>lld_node_filesystem_free</key>
                    <delay>0</delay>
                    <lifetime>3d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#METRIC} | device=&quot;{#DEVICE}&quot; | fstype=&quot;{#FSTYPE}&quot; | mountpoint=&quot;{#MOUNTPOINT}&quot;</name>
                            <type>DEPENDENT</type>
                            <key>node_filesystem_free[{#DEVICE},{#FSTYPE},{#MOUNTPOINT}]</key>
                            <delay>0</delay>
                            <value_type>FLOAT</value_type>
                            <units>B</units>
                            <description>{#HELP}</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>{#METRIC}</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>PROMETHEUS_PATTERN</type>
                                    <params>{#METRIC}{device=&quot;{#DEVICE}&quot;,fstype=&quot;{#FSTYPE}&quot;,mountpoint=&quot;{#MOUNTPOINT}&quot;}
</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>master</key>
                            </master_item>
                        </item_prototype>
                    </item_prototypes>
                    <graph_prototypes>
                        <graph_prototype>
                            <name>node_filesystem_free | device=&quot;{#DEVICE}&quot; | fstype=&quot;{#FSTYPE}&quot; | mountpoint=&quot;{#MOUNTPOINT}&quot;</name>
                            <graph_items>
                                <graph_item>
                                    <color>199C0D</color>
                                    <calc_fnc>ALL</calc_fnc>
                                    <item>
                                        <host>Template Node Exporter Monitoring</host>
                                        <key>node_filesystem_free[{#DEVICE},{#FSTYPE},{#MOUNTPOINT}]</key>
                                    </item>
                                </graph_item>
                            </graph_items>
                        </graph_prototype>
                    </graph_prototypes>
                    <master_item>
                        <key>master</key>
                    </master_item>
                    <lld_macro_paths>
                        <lld_macro_path>
                            <lld_macro>{#DEVICE}</lld_macro>
                            <path>$.labels['device']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#FSTYPE}</lld_macro>
                            <path>$.labels['fstype']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#HELP}</lld_macro>
                            <path>$['help']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#METRIC}</lld_macro>
                            <path>$['name']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#MOUNTPOINT}</lld_macro>
                            <path>$.labels['mountpoint']</path>
                        </lld_macro_path>
                    </lld_macro_paths>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_TO_JSON</type>
                            <params>node_filesystem_free{device=~&quot;.*&quot;,fstype=~&quot;.*&quot;,mountpoint=~&quot;.*&quot;}</params>
                        </step>
                    </preprocessing>
                </discovery_rule>
                <discovery_rule>
                    <name>LLD - node_filesystem_readonly</name>
                    <type>DEPENDENT</type>
                    <key>lld_node_filesystem_readonly</key>
                    <delay>0</delay>
                    <lifetime>3d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#METRIC} | device=&quot;{#DEVICE}&quot; | fstype=&quot;{#FSTYPE}&quot; | mountpoint=&quot;{#MOUNTPOINT}&quot;</name>
                            <type>DEPENDENT</type>
                            <key>node_filesystem_readonly[{#DEVICE},{#FSTYPE},{#MOUNTPOINT}]</key>
                            <delay>0</delay>
                            <description>{#HELP}</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>{#METRIC}</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>PROMETHEUS_PATTERN</type>
                                    <params>{#METRIC}{device=&quot;{#DEVICE}&quot;,fstype=&quot;{#FSTYPE}&quot;,mountpoint=&quot;{#MOUNTPOINT}&quot;}
</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>master</key>
                            </master_item>
                        </item_prototype>
                    </item_prototypes>
                    <master_item>
                        <key>master</key>
                    </master_item>
                    <lld_macro_paths>
                        <lld_macro_path>
                            <lld_macro>{#DEVICE}</lld_macro>
                            <path>$.labels['device']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#FSTYPE}</lld_macro>
                            <path>$.labels['fstype']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#HELP}</lld_macro>
                            <path>$['help']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#METRIC}</lld_macro>
                            <path>$['name']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#MOUNTPOINT}</lld_macro>
                            <path>$.labels['mountpoint']</path>
                        </lld_macro_path>
                    </lld_macro_paths>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_TO_JSON</type>
                            <params>node_filesystem_readonly{device=~&quot;.*&quot;,fstype=~&quot;.*&quot;,mountpoint=~&quot;.*&quot;}</params>
                        </step>
                    </preprocessing>
                </discovery_rule>
                <discovery_rule>
                    <name>LLD - node_filesystem_size</name>
                    <type>DEPENDENT</type>
                    <key>lld_node_filesystem_size</key>
                    <delay>0</delay>
                    <lifetime>3d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#METRIC} | device=&quot;{#DEVICE}&quot; | fstype=&quot;{#FSTYPE}&quot; | mountpoint=&quot;{#MOUNTPOINT}&quot;</name>
                            <type>DEPENDENT</type>
                            <key>node_filesystem_size[{#DEVICE},{#FSTYPE},{#MOUNTPOINT}]</key>
                            <delay>0</delay>
                            <value_type>FLOAT</value_type>
                            <units>B</units>
                            <description>{#HELP}</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>{#METRIC}</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>PROMETHEUS_PATTERN</type>
                                    <params>{#METRIC}{device=&quot;{#DEVICE}&quot;,fstype=&quot;{#FSTYPE}&quot;,mountpoint=&quot;{#MOUNTPOINT}&quot;}
</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>master</key>
                            </master_item>
                        </item_prototype>
                    </item_prototypes>
                    <master_item>
                        <key>master</key>
                    </master_item>
                    <lld_macro_paths>
                        <lld_macro_path>
                            <lld_macro>{#DEVICE}</lld_macro>
                            <path>$.labels['device']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#FSTYPE}</lld_macro>
                            <path>$.labels['fstype']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#HELP}</lld_macro>
                            <path>$['help']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#METRIC}</lld_macro>
                            <path>$['name']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#MOUNTPOINT}</lld_macro>
                            <path>$.labels['mountpoint']</path>
                        </lld_macro_path>
                    </lld_macro_paths>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_TO_JSON</type>
                            <params>node_filesystem_size{device=~&quot;.*&quot;,fstype=~&quot;.*&quot;,mountpoint=~&quot;.*&quot;}</params>
                        </step>
                    </preprocessing>
                </discovery_rule>
                <discovery_rule>
                    <name>LLD - node_forks</name>
                    <type>DEPENDENT</type>
                    <key>lld_node_forks</key>
                    <delay>0</delay>
                    <lifetime>3d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#METRIC}</name>
                            <type>DEPENDENT</type>
                            <key>node_forks</key>
                            <delay>0</delay>
                            <description>{#HELP}</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>{#METRIC}</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>PROMETHEUS_PATTERN</type>
                                    <params>{#METRIC}
</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>master</key>
                            </master_item>
                        </item_prototype>
                    </item_prototypes>
                    <master_item>
                        <key>master</key>
                    </master_item>
                    <lld_macro_paths>
                        <lld_macro_path>
                            <lld_macro>{#HELP}</lld_macro>
                            <path>$['help']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#METRIC}</lld_macro>
                            <path>$['name']</path>
                        </lld_macro_path>
                    </lld_macro_paths>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_TO_JSON</type>
                            <params>node_forks</params>
                        </step>
                    </preprocessing>
                </discovery_rule>
                <discovery_rule>
                    <name>LLD - node_hwmon_chip_names</name>
                    <type>DEPENDENT</type>
                    <key>lld_node_hwmon_chip_names</key>
                    <delay>0</delay>
                    <lifetime>3d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#METRIC} | chip=&quot;{#CHIP}&quot; | chip_name=&quot;{#CHIP_NAME}&quot;</name>
                            <type>DEPENDENT</type>
                            <key>node_hwmon_chip_names[{#CHIP},{#CHIP_NAME}]</key>
                            <delay>0</delay>
                            <description>{#HELP}</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>{#METRIC}</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>PROMETHEUS_PATTERN</type>
                                    <params>{#METRIC}{chip=&quot;{#CHIP}&quot;,chip_name=&quot;{#CHIP_NAME}&quot;}
</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>master</key>
                            </master_item>
                        </item_prototype>
                    </item_prototypes>
                    <master_item>
                        <key>master</key>
                    </master_item>
                    <lld_macro_paths>
                        <lld_macro_path>
                            <lld_macro>{#HELP}</lld_macro>
                            <path>$['help']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#METRIC}</lld_macro>
                            <path>$['name']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#CHIP}</lld_macro>
                            <path>$.labels['chip']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#CHIP_NAME}</lld_macro>
                            <path>$.labels['chip_name']</path>
                        </lld_macro_path>
                    </lld_macro_paths>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_TO_JSON</type>
                            <params>node_hwmon_chip_names{chip=~&quot;.*&quot;,chip_name=~&quot;.*&quot;}</params>
                        </step>
                    </preprocessing>
                </discovery_rule>
                <discovery_rule>
                    <name>LLD - node_hwmon_fan_rpm</name>
                    <type>DEPENDENT</type>
                    <key>lld_node_hwmon_fan_rpm</key>
                    <delay>0</delay>
                    <lifetime>3d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#METRIC} | chip=&quot;{#CHIP}&quot; | sensor=&quot;{#SENSOR}&quot;</name>
                            <type>DEPENDENT</type>
                            <key>node_hwmon_fan_rpm[{#CHIP},{#SENSOR}]</key>
                            <delay>0</delay>
                            <units>rpm</units>
                            <description>{#HELP}</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>{#METRIC}</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>PROMETHEUS_PATTERN</type>
                                    <params>{#METRIC}{chip=&quot;{#CHIP}&quot;,sensor=&quot;{#SENSOR}&quot;}
</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>master</key>
                            </master_item>
                        </item_prototype>
                    </item_prototypes>
                    <master_item>
                        <key>master</key>
                    </master_item>
                    <lld_macro_paths>
                        <lld_macro_path>
                            <lld_macro>{#SENSOR}</lld_macro>
                            <path>$.labels['sensor']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#CHIP}</lld_macro>
                            <path>$.labels['chip']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#HELP}</lld_macro>
                            <path>$['help']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#METRIC}</lld_macro>
                            <path>$['name']</path>
                        </lld_macro_path>
                    </lld_macro_paths>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_TO_JSON</type>
                            <params>node_hwmon_fan_rpm{chip=~&quot;.*&quot;,sensor=~&quot;.*&quot;}</params>
                        </step>
                    </preprocessing>
                </discovery_rule>
                <discovery_rule>
                    <name>LLD - node_hwmon_pwm</name>
                    <type>DEPENDENT</type>
                    <key>lld_node_hwmon_pwm</key>
                    <delay>0</delay>
                    <lifetime>3d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#METRIC} | chip=&quot;{#CHIP}&quot; | sensor=&quot;{#SENSOR}&quot;</name>
                            <type>DEPENDENT</type>
                            <key>node_hwmon_pwm[{#CHIP},{#SENSOR}]</key>
                            <delay>0</delay>
                            <description>{#HELP}</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>{#METRIC}</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>PROMETHEUS_PATTERN</type>
                                    <params>{#METRIC}{chip=&quot;{#CHIP}&quot;,sensor=&quot;{#SENSOR}&quot;}
</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>master</key>
                            </master_item>
                        </item_prototype>
                    </item_prototypes>
                    <master_item>
                        <key>master</key>
                    </master_item>
                    <lld_macro_paths>
                        <lld_macro_path>
                            <lld_macro>{#CHIP}</lld_macro>
                            <path>$.labels['chip']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#HELP}</lld_macro>
                            <path>$['help']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#METRIC}</lld_macro>
                            <path>$['name']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#SENSOR}</lld_macro>
                            <path>$.labels['sensor']</path>
                        </lld_macro_path>
                    </lld_macro_paths>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_TO_JSON</type>
                            <params>node_hwmon_pwm{chip=~&quot;.*&quot;,sensor=~&quot;.*&quot;}</params>
                        </step>
                    </preprocessing>
                </discovery_rule>
                <discovery_rule>
                    <name>LLD - node_hwmon_sensor_label</name>
                    <type>DEPENDENT</type>
                    <key>lld_node_hwmon_sensor_label</key>
                    <delay>0</delay>
                    <lifetime>3d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#METRIC} | chip=&quot;{#CHIP}&quot; | label=&quot;{#LABEL}&quot; | sensor=&quot;{#SENSOR}</name>
                            <type>DEPENDENT</type>
                            <key>node_hwmon_sensor_label[{#CHIP},{#LABEL},{#SENSOR}]</key>
                            <delay>0</delay>
                            <description>{#HELP}</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>{#METRIC}</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>PROMETHEUS_PATTERN</type>
                                    <params>{#METRIC}{chip=&quot;{#CHIP}&quot;,label=&quot;{#LABEL}&quot;,sensor=&quot;{#SENSOR}&quot;}
</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>master</key>
                            </master_item>
                        </item_prototype>
                    </item_prototypes>
                    <master_item>
                        <key>master</key>
                    </master_item>
                    <lld_macro_paths>
                        <lld_macro_path>
                            <lld_macro>{#CHIP}</lld_macro>
                            <path>$.labels['chip']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#HELP}</lld_macro>
                            <path>$['help']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#METRIC}</lld_macro>
                            <path>$['name']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#SENSOR}</lld_macro>
                            <path>$.labels['sensor']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#LABEL}</lld_macro>
                            <path>$.labels['label']</path>
                        </lld_macro_path>
                    </lld_macro_paths>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_TO_JSON</type>
                            <params>node_hwmon_sensor_label{chip=~&quot;.*&quot;,label=~&quot;.*&quot;,sensor=~&quot;.*&quot;}</params>
                        </step>
                    </preprocessing>
                </discovery_rule>
                <discovery_rule>
                    <name>LLD - node_hwmon_temp</name>
                    <type>DEPENDENT</type>
                    <key>lld_node_hwmon_temp</key>
                    <delay>0</delay>
                    <lifetime>3d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#METRIC} | chip=&quot;{#CHIP}&quot; | sensor=&quot;{#SENSOR}&quot;</name>
                            <type>DEPENDENT</type>
                            <key>node_hwmon_temp[{#METRIC},{#CHIP},{#SENSOR}]</key>
                            <delay>0</delay>
                            <units>C</units>
                            <description>{#HELP}</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>{#METRIC}</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>PROMETHEUS_PATTERN</type>
                                    <params>{#METRIC}{chip=&quot;{#CHIP}&quot;,sensor=&quot;{#SENSOR}&quot;}
</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>master</key>
                            </master_item>
                        </item_prototype>
                    </item_prototypes>
                    <master_item>
                        <key>master</key>
                    </master_item>
                    <lld_macro_paths>
                        <lld_macro_path>
                            <lld_macro>{#CHIP}</lld_macro>
                            <path>$.labels['chip']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#HELP}</lld_macro>
                            <path>$['help']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#METRIC}</lld_macro>
                            <path>$['name']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#SENSOR}</lld_macro>
                            <path>$.labels['sensor']</path>
                        </lld_macro_path>
                    </lld_macro_paths>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_TO_JSON</type>
                            <params>{__name__=~&quot;node_hwmon_temp.*&quot;}</params>
                        </step>
                    </preprocessing>
                </discovery_rule>
                <discovery_rule>
                    <name>LLD - node_hwmon_temp_celsius</name>
                    <type>DEPENDENT</type>
                    <key>lld_node_hwmon_temp_celsius</key>
                    <delay>0</delay>
                    <lifetime>3d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#METRIC} | chip=&quot;{#CHIP}&quot; | sensor=&quot;{#SENSOR}&quot;</name>
                            <type>DEPENDENT</type>
                            <key>node_hwmon_temp_celsius[{#CHIP},{#SENSOR}]</key>
                            <delay>0</delay>
                            <units>C</units>
                            <description>{#HELP}</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>{#METRIC}</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>PROMETHEUS_PATTERN</type>
                                    <params>{#METRIC}{chip=&quot;{#CHIP}&quot;,sensor=&quot;{#SENSOR}&quot;}
</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>master</key>
                            </master_item>
                        </item_prototype>
                    </item_prototypes>
                    <graph_prototypes>
                        <graph_prototype>
                            <name>node_hwmon_temp_celsius | chip=&quot;{#CHIP}&quot; | sensor=&quot;{#SENSOR}&quot;</name>
                            <graph_items>
                                <graph_item>
                                    <color>199C0D</color>
                                    <calc_fnc>ALL</calc_fnc>
                                    <item>
                                        <host>Template Node Exporter Monitoring</host>
                                        <key>node_hwmon_temp_celsius[{#CHIP},{#SENSOR}]</key>
                                    </item>
                                </graph_item>
                            </graph_items>
                        </graph_prototype>
                    </graph_prototypes>
                    <master_item>
                        <key>master</key>
                    </master_item>
                    <lld_macro_paths>
                        <lld_macro_path>
                            <lld_macro>{#CHIP}</lld_macro>
                            <path>$.labels['chip']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#HELP}</lld_macro>
                            <path>$['help']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#METRIC}</lld_macro>
                            <path>$['name']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#SENSOR}</lld_macro>
                            <path>$.labels['sensor']</path>
                        </lld_macro_path>
                    </lld_macro_paths>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_TO_JSON</type>
                            <params>node_hwmon_temp_celsius{chip=~&quot;.*&quot;,sensor=~&quot;.*&quot;}</params>
                        </step>
                    </preprocessing>
                </discovery_rule>
                <discovery_rule>
                    <name>LLD - node_hwmon_temp_crit_alarm_celsius</name>
                    <type>DEPENDENT</type>
                    <key>lld_node_hwmon_temp_crit_alarm_celsius</key>
                    <delay>0</delay>
                    <lifetime>3d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#METRIC} | chip=&quot;{#CHIP}&quot; | sensor=&quot;{#SENSOR}&quot;</name>
                            <type>DEPENDENT</type>
                            <key>node_hwmon_temp_crit_alarm_celsius[{#CHIP},{#SENSOR}]</key>
                            <delay>0</delay>
                            <units>C</units>
                            <description>{#HELP}</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>{#METRIC}</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>PROMETHEUS_PATTERN</type>
                                    <params>{#METRIC}{chip=&quot;{#CHIP}&quot;,sensor=&quot;{#SENSOR}&quot;}
</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>master</key>
                            </master_item>
                        </item_prototype>
                    </item_prototypes>
                    <master_item>
                        <key>master</key>
                    </master_item>
                    <lld_macro_paths>
                        <lld_macro_path>
                            <lld_macro>{#CHIP}</lld_macro>
                            <path>$.labels['chip']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#HELP}</lld_macro>
                            <path>$['help']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#METRIC}</lld_macro>
                            <path>$['name']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#SENSOR}</lld_macro>
                            <path>$.labels['sensor']</path>
                        </lld_macro_path>
                    </lld_macro_paths>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_TO_JSON</type>
                            <params>node_hwmon_temp_crit_alarm_celsius{chip=~&quot;.*&quot;,sensor=~&quot;.*&quot;}</params>
                        </step>
                    </preprocessing>
                </discovery_rule>
                <discovery_rule>
                    <name>LLD - node_hwmon_temp_crit_celsius</name>
                    <type>DEPENDENT</type>
                    <key>lld_node_hwmon_temp_crit_celsius</key>
                    <delay>0</delay>
                    <lifetime>3d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#METRIC} | chip=&quot;{#CHIP}&quot; | sensor=&quot;{#SENSOR}&quot;</name>
                            <type>DEPENDENT</type>
                            <key>node_hwmon_temp_crit_celsius[{#CHIP},{#SENSOR}]</key>
                            <delay>0</delay>
                            <units>C</units>
                            <description>{#HELP}</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>{#METRIC}</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>PROMETHEUS_PATTERN</type>
                                    <params>{#METRIC}{chip=&quot;{#CHIP}&quot;,sensor=&quot;{#SENSOR}&quot;}
</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>master</key>
                            </master_item>
                        </item_prototype>
                    </item_prototypes>
                    <master_item>
                        <key>master</key>
                    </master_item>
                    <lld_macro_paths>
                        <lld_macro_path>
                            <lld_macro>{#CHIP}</lld_macro>
                            <path>$.labels['chip']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#HELP}</lld_macro>
                            <path>$['help']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#METRIC}</lld_macro>
                            <path>$['name']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#SENSOR}</lld_macro>
                            <path>$.labels['sensor']</path>
                        </lld_macro_path>
                    </lld_macro_paths>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_TO_JSON</type>
                            <params>node_hwmon_temp_crit_celsius{chip=~&quot;.*&quot;,sensor=~&quot;.*&quot;}</params>
                        </step>
                    </preprocessing>
                </discovery_rule>
                <discovery_rule>
                    <name>LLD - node_hwmon_temp_max_celsius</name>
                    <type>DEPENDENT</type>
                    <key>lld_node_hwmon_temp_max_celsius</key>
                    <delay>0</delay>
                    <lifetime>3d</lifetime>
                    <item_prototypes>
                        <item_prototype>
                            <name>{#METRIC} | chip=&quot;{#CHIP}&quot; | sensor=&quot;{#SENSOR}&quot;</name>
                            <type>DEPENDENT</type>
                            <key>node_hwmon_temp_max_celsius[{#CHIP},{#SENSOR}]</key>
                            <delay>0</delay>
                            <units>C</units>
                            <description>{#HELP}</description>
                            <application_prototypes>
                                <application_prototype>
                                    <name>{#METRIC}</name>
                                </application_prototype>
                            </application_prototypes>
                            <preprocessing>
                                <step>
                                    <type>PROMETHEUS_PATTERN</type>
                                    <params>{#METRIC}{chip=&quot;{#CHIP}&quot;,sensor=&quot;{#SENSOR}&quot;}
</params>
                                </step>
                            </preprocessing>
                            <master_item>
                                <key>master</key>
                            </master_item>
                        </item_prototype>
                    </item_prototypes>
                    <master_item>
                        <key>master</key>
                    </master_item>
                    <lld_macro_paths>
                        <lld_macro_path>
                            <lld_macro>{#CHIP}</lld_macro>
                            <path>$.labels['chip']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#HELP}</lld_macro>
                            <path>$['help']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#METRIC}</lld_macro>
                            <path>$['name']</path>
                        </lld_macro_path>
                        <lld_macro_path>
                            <lld_macro>{#SENSOR}</lld_macro>
                            <path>$.labels['sensor']</path>
                        </lld_macro_path>
                    </lld_macro_paths>
                    <preprocessing>
                        <step>
                            <type>PROMETHEUS_TO_JSON</type>
                            <params>node_hwmon_temp_max_celsius{chip=~&quot;.*&quot;,sensor=~&quot;.*&quot;}</params>
                        </step>
                    </preprocessing>
                </discovery_rule>
            </discovery_rules>
            <macros>
                <macro>
                    <macro>{$URL}</macro>
                    <description>A URL deve seguir o seguinte formato - http://ip_ou_dns:port/metrics</description>
                </macro>
            </macros>
        </template>
    </templates>
</zabbix_export>
